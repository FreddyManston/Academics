<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/sitestyles.css" rel="stylesheet">
        <title>Defeasible Datalog</title>
        <style>

        </style>
    </head>
    <body>
        <!-- TITLE -->
        <div class="title center">
            <h1>
                Defeasible Datalog
            </h1>
            <h3>
                Joshua Abraham and Thomas Pownall
            </h3>
        </div>

        <!-- SIDEBAR-->
        <div class="wrapper">
            <div class="sidebar">
                <div id="sidebar"></div>
                <div class="sidebar-inner">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="center" style="padding-bottom: 1em;"><img height="100px" src="resources/uct_logo.gif"></div>
                                <!--div class="headpiece center"--> <h3 class="center">Menu</h3>
                                <a class="current" href="#"><b>Home</b></a><br/>
                                <a href="team.html"><b>Team</b></a>
                                <hr/>
                                <h3 class="center">Papers</h3>
                                <a href="resources/DDLOG_implementation.pdf"><!--small--><b>Defeasible Datalog Implementation</b><br/><div class="right"><small><i>- Joshua Abraham</i></small></div></a><br/>
                                <a href="resources/LitReview_abraham.pdf"><!--small--><b>Literature Review</b><div class="right"><small><i>- Joshua Abraham</i></small></div></a><br/>
                                <a href="resources/DDLOG_theory.pdf"><!--small--><b>Defeasible Datalog Theory</b><div class="right"><small><i>- Thomas Pownall</i></small></div></a><br/>
                                <a href="resources/LitReview_pownall.pdf"><!--small--><b>Literature Review</b><div class="right"><small><i>- Thomas Pownall</i></small></div></a><br/>
                                <a href="resources/DDLOG_proposal.pdf"><!--small--><b>Project Proposal</b><div class="right"><small><i>- Joshua Abraham and Thomas Pownall</i></small></div></a><br/>
                                <hr/>
                                <h3 class="center">Links</h3>
                                <a href="https://github.com/FreddyManston/Honours-Project"><!--small--><b>DDLOG GitHub Repository</b><br/><div class="right"><small><i>- Joshua Abraham</i></small></div></a><br/>
                                <div class="center"><img width="50%" style="padding-left: 10px;" src="resources/cair-logo.png"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MAIN CONTENT -->
            <div class="content">
                <div class="container">
                    <!-- Description-->
                  <div class="row">
                      <div class="col-md-12">
                          <div class="center headpiece horzshrink"><h2>Description</h2></div>
                          <div class="pane-content">
                              Datalog is the programming language we have chosen for our project. It is a syntactical subset of Prolog, however
                              unlike Prolog, statements may be evaluated in any order, finite statement sets are guaranteed to terminate and
                              Datalog does not contain Prolog's cut operator. These differences make Datalog a fully declarative programming language.
                              Furthermore, there are other restrictions that limit the expressivity of Datalog. Datalog is often used as a querying
                              language for deductive databases as a result of allowing for efficient query resolution algorithms. This gives it wider
                              application in security, program analysis, networking, cloud computing, information extraction and data integration. Despite this,
                              the restrictions placed on Datalog limit its application in other areas. There exist several extensions of Datalog to address these
                              limitations and our project plans to construct another extension that will allow it to handle defeasible reasoning.
                              <br><br>
                              Defeasible reasoning falls under non-monotonic logic - a form of logic that allows for the retraction of previously stated claims.
                              Specifically, defeasible reasoning allows for contingent claims. That is, defeasible reasoning allows one to make a claim that may be
                              incomplete and may be retracted given new claims. In this way, it awknowledges fallibility and corrigibility of claims. Defeasible reasoning
                              is important in the field of artificial intelligence (AI) and finds its fullest expression in knowledge representation and planning.
                              <br><br>
                              Datalog does not possess the expressivity to handle refeasible reasoning. Our project aim to construct an extension of Datalog with
                              defeasible reasoning called Defeasible Datalog. Our project is split into two main parts:
                              </br>
                              (i) the theoretical construction of Defeasible
                              Datalog as well as the proof for theoretical correctness.
                              </br>
                              (ii) the implementation of Defeasible Datalog as a proof of concept. Both parts
                              will be discussed in more detail below and in full detail in the papers linked. We hope our project will encourage more systems to
                              handle defeasible reasoning, such as its importance in AI.
                          </div>
                      </div>
                    </div>

                    <!-- Objectives -->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="center headpiece horzshrink"><h2>Objectives</h2></div>
                            <div class="pane-content">
                              We briefly mention above the premise of our project. Here we outline our main objectives in achieving this premise. Again, as mentioned
                              above, our project is split into two main parts and as a result the objectives fall into one of these two parts.
                              <br><br>
                              <b>Theory</b>
                              <ul>
                                <li>Introduce extended syntax that will be required to construct Defeasible Datalog.</li>
                                <li>Describe the semantics related to the this syntax. </li>
                                <li>Describe and adapt the rational closure algorithm for Defeasible Datalog. </li>
                                <li>Show that our adapted rational closure algorithm satisfies the KLM postulates that are required for a reasonable non-monotonic reasoning procedure.</li>
                              </ul>
                              <b>Implementation</b>
                              <ul>
                                <li> Extend datalog with negation, to allow for defeasible reasoning. </li>
                                <li> Allow for the input of defeasible statements in RDFox. </li>
                                <li> Adapt the description logic version of the Rational Closure algorithm to a declarative programming language logic. </li>
                                <li> Implement the Defeasible Datalog reasoner, using RDFox as the classical reasoner. </li>
                                <li> Provide test cases to verify the correctness of the reasoner. </li>
                                <li> Run tests on the Defeasible Datalog reasoner, using the provided test cases. </li>
                              </ul>
                                </div>
                        </div>
                    </div>
                    <br/>

                    <!-- Theory-->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="center headpiece horzshrink"><h3 id="theory">Theory</h3></div>
                            <div class="row pane-content">
                                <div class="col-md-12">
                                  In order to construct Defeasible Datalog we first decided upon the procedure for which defeasible reasoning will
                                  be done. The algorithm we aim to use is known as the Rational Closure algorithm. However, in order to use this
                                  algorithm we need to enhance the expressivity of Datalog. In particular, we require Datalog to handle rules that
                                  may use negation and disjunction.
                                  <br><br>
                                  <div class="subheading"><h5>Syntax and Semantics</h5></div>
                                  With these requirements in mind, we analysed the current syntax and semantics of Datalog using a bottom-up
                                  approach. Using this analysis we constructing the syntax and semantics of Defeasible Datalog, again using a
                                  bottom-up approach. This allowed us to incorporate negation and disjunction into Datalog rules.
                                  <br><br>
                                  <div class="subheading"><h5>Rational Closure</h5></div>
                                  Once the syntax and semantics of Defeasible Datalog were constructed we needed to address the Rational
                                  Closure algorithm. There are many descriptions of the Rational Closure algorithm, however, we needed to
                                  adapt it for Defeasible Datalog. Furthermore, the Rational Closure algorithm requires a procedure for
                                  ranking the defeasible statements in order to work. Below we show our adapted Rational Closure algorithm
                                  as well as our Exceptionality Ranking algorithm.

                                  <br><br>
                                  <!--Rational Closure + Exceptionality algorithms-->
                                  <img width="30%" style="padding-right: 10px;" src="resources/ranking.png">
                                  <br><br>
                                  <img width="30%" style="padding-right: 10px;" src="resources/rationalclosure.png">
                                  <br><br>


                                  Now that we have defined our Rational Closure algorithm we will now be able to handle reasoning with both
                                  classical and defeasible Datalog rules. We are able to do this by making the defeasible rules into
                                  classical rules and ranking them according to exceptionality. Then when presented with a query we are
                                  able to reason using a number of classical entailment checks.
                                  <br><br>
                                  <div class="subheading"><h5>KLM Postulates</h5></div>
                                  It was stated in the literature that in order for a procedure to be a reasonable non-monotonic reasoner it
                                  must satisfy a number of properties. These properties define what is known as a rational relation.

                                  <br><br>
                                  <!--Properties-->
                                  <img width="30%" style="padding-right: 10px;" src="resources/properties.png">
                                  <br><br>

                                  For us to be satisfied with our construction of Defeasible Datalog we must show that our definition
                                  of Rational Closure reflected a rational relation. That is it possessed each of the properties above.
                                  Fortunately, we were able to show that our Rational Closure algorithm does in fact satisfy these properties.
                                  Thus our construction of Defeasible Datalog is complete.
                                </div>
                            </div>
                        </div>

                    <!-- Implementation-->
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="center headpiece horzshrink"><h3 id="implementation">Implementation</h3></div>
                            <div class="row pane-content">
                                <div class="col-md-12">
                                    Defeasible Datalog was implemented as a wrapper for the <a href=http://www.cs.ox.ac.uk/isg/tools/RDFox/> RDFox system</a>.
                                    RDFox is an RDF triple store that allows for classical datalog reasoning.
                                    It was chosen for its efficiency and its incredible materialisation capabilities.
                                    It was possible to use RDFox in this project due to the way that the Rational Closure algorithm
                                    elegantly turns a defeasible inference check into a series of classical inference checks,
                                    by means of ranking the knowledge base according to exceptionality.
                                    <br/><br/>

                                    <div class="subheading"><h5>Extending Datalog</h5></div>
                                    In order to represent defeasible statements/rules classical datalog had to be extended to allow for negation.
                                    This was done by adding a standard negation atom to the datalog language. Using this, a datalog rule to represent that penguins don't fly
                                    would be written as: <i>&lthttp://defeasibledatalog.org/hons/negation#False&gt :- &lthttp://animal#Penguin&gt(?X), &lthttp://ability#Fly&gt(?X)</i>
                                    <br/><br/>

                                    <div class="subheading"><h5>Ranking Statements</h5></div>
                                    The defeasible statements in the knowledge base are ranked according to exceptionality. A statement is said to be exceptional
                                    if its antecedent doesn't produce a clash or contradiction in the current knowledge. Defeasible statements are ranked from lowest
                                    exceptionality to highest. The last rank consists of all the classical statements (i.e. unexceptional), as well as those
                                    defeasible statements that are found to be implicitly unexceptional.
                                    (insert pictures)
                                    <br/><br/>

                                    <div class="subheading"><h5>Performing Queries</h5></div>
                                    Once all the defeasible statments are ranked, queries are performed by checking whether or not they are in the Rational Closure of the knowledge base.
                                    A query is said to be in the Rational Closure if it can be found in the materialisation of any of the subsets of the knowledge base.
                                    Subsets are created by, starting with the entire knowledge base, iteratively removing the current lowest rank until the query can be satisfied or only the last rank (i.e. the infinite rank) remains.
                                    The syntax of queries should conform to the syntax of our extended datalog.
                                    (insert pictures)
                                </div>
                            </div>
                        </div>
                    </div>
                    <br/>

                    <!-- Results -->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="center headpiece horzshrink"><h3 id="implementation">Results</h3></div>
                            <div class="row pane-content">
                                <div class="col-md-12">
                                  <img width="100%" style="padding-right: 10px;" src="resources/dlog1_1.png">
                                  <br><br>
                                  <img width="100%" style="padding-right: 10px;" src="resources/dlog1_2.png">
                                  <br><br>
                                  <img width="100%" style="padding-right: 10px;" src="resources/dlog1_3.png">
                                  <br><br>
                                  <img width="100%" style="padding-right: 10px;" src="resources/dlog1_4.png">
                                  <br><br>
                                  <img width="100%" style="padding-right: 10px;" src="resources/dlog2_1.png">
                                  <br><br>
                                  <img width="100%" style="padding-right: 10px;" src="resources/dlog2_2.png">

                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Conclusion -->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="center headpiece horzshrink"><h3 id="implementation">Conclusions</h3></div>
                            <div class="row pane-content">
                                <div class="col-md-12">
                                  We set out to construct Defeasible Datalog, a programming language for reasoning with defeasible statements.
                                  We completed two parts:
                                  </br>
                                  (i) We showed that we could theoretically construct such a language. This was done
                                  by enhancing the syntax and semantics of Datalog. Adapting the Rational Closure algorithm to be used as our
                                  reasoning procedure. Showing that our Rational Closure algorithm represents a rational relation, making it a
                                  reasonable procedure for non-monotonic reasoning.
                                  </br>
                                  (ii) We were able to construct a proof of concept. This was
                                  done by extending RDFox with our syntax as well as implementing our Rational Closure algorithm as part of the
                                  reasoning procedure.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- References-->
                    <div class="row">
                        <div class="col-md-12">
                            <hr/>
                            <small><sup id="ref1">1</sup>Daniel Lehmann and Menachem Magidor. 1992. What does a conditional knowledge base entail? Artificial intelligence 55, 1 (1992), 1–60.</small><br/>
                            <small><sup id="ref2">2</sup>Sarit Kraus, Daniel Lehmann, and Menachem Magidor. 1990.  Nonmonotonic
                            reasoning, preferential models and cumulative logics. Artificial intelligence 44, 1-2 (1990), 167–207.</small>
                        </div>
                    </div>
                </div> <!-- End container -->
            </div> <!--End .content-->
        </div>
    </body>
</html>
